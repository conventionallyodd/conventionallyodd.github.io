<html>
  <head>
    <title>Everglow Clocks</title>
  </head>
  <body onload="timer()">
    <style>
      @font-face {
        font-family: "DS_Digital Bold";
        src: url("/DS-DIGIB.TTF") format("truetype");
      }
      p {
        font-family: "DS_Digital Bold";
        font-size: 30px;
        text-align: center;
      }
    </style>
    
    <script>
    
      var timeInt = setInterval(myTime, 1000);
      var hourInt = setInterval(randHour,60000);
      var minInt = setInterval(randMin,10000);
      
      function timer(){

        randHour();
        randMin();
        myTime();

        
      };
      
      function restart(){
        clearInterval(timeInt);
        clearInterval(hourInt);
        clearInterval(minInt);
        
        timer();
       
        timeInt = setInterval(myTime, 1000);
        hourInt = setInterval(randHour,60000);
        minInt = setInterval(randMin,10000);
      }
    
      function myTime(x){
        
        var t = new Date();
        var myHour = ("0"+t.getHours()).substr(-2);
        var myMinute = ("0"+t.getMinutes()).substr(-2);
        var mySecond = ("0"+t.getSeconds()).substr(-2);
        
        document.getElementById("second").innerHTML = mySecond + "    sec";
        document.getElementById("time").innerHTML = ""
        
        

      };
      
      function randHour() {
        var t = new Date();
        var myHour = t.getHours();
        var iniOpp = Math.floor(Math.random()*2)+1
        var finOpp = Math.floor(Math.random()*2)+1
        var ranOpp = Math.floor(Math.random()*(myHour-1))+1
        var ranOppB = Math.floor(Math.random()*24)+1
        var newHour;
        var hourArr = [];
        var x = 0;
        
        if (iniOpp<=1){
          newHour = myHour - ranOpp;
        } else {
          newHour = myHour + ranOpp;
        }
        
        if (finOpp<=1){
          if (newHour>0){
            for(i = 1; i <= newHour; i++) {
              if(newHour % i == 0) {
                hourArr[x]=i;
                x += 1;
              }
            }
          } else {
            for(i = -1; i >= newHour; i--) {
              if(newHour % i == 0) {
                hourArr[x]=i;
                x += 1;
              }
            }        
          };
        }
        
        
        
        var arrRan=Math.floor(Math.random()*hourArr.length)
               
        text = hourArr[arrRan]
        
        var hourMulti = newHour/text
        var hourDiv = newHour * ranOppB
        

        
        if (finOpp<=1){
          if (iniOpp<=1){
            document.getElementById("hour").innerHTML = text+"x"+hourMulti+"+"+ranOpp+"   h"
          } else { 
            document.getElementById("hour").innerHTML = text+"x"+hourMulti+"-"+ranOpp+"   h"
          }
        } else {
          if (iniOpp<=1){
             document.getElementById("hour").innerHTML = hourDiv+"/"+ranOppB+"+"+ranOpp+"   h"
          } else {
             document.getElementById("hour").innerHTML = hourDiv+"/"+ranOppB+"-"+ranOpp+"   h"
          }
         
        }
        
      };

      function randMin() {
        var t = new Date();
        var myMin = t.getMinutes();
        var iniOpp = Math.floor(Math.random()*2)+1
        var finOpp = Math.floor(Math.random()*2)+1
        var ranOpp = Math.floor(Math.random()*(myMin-1))+1
        var ranOppB = Math.floor(Math.random()*12)+1
        var newMin;
        var minArr = [];
        var x = 0;
        
        if (iniOpp<=1){
          newMin = myMin - ranOpp;
        } else {
          newMin = myMin + ranOpp;
        }
        
        if (finOpp<=1){
          if (newMin>0){
            for(i = 1; i <= newMin; i++) {
              if(newMin % i == 0) {
                minArr[x]=i;
                x += 1;
              }
            }
          } else {
            for(i = -1; i >= newMin; i--) {
              if(newMin % i == 0) {
                minArr[x]=i;
                x += 1;
              }
            }        
          };
        }
        
        
        
        var arrRan=Math.floor(Math.random()*minArr.length)
               
        text = minArr[arrRan]
        
        var minMulti = newMin/text
        var minDiv = newMin * ranOppB
        

        
        if (finOpp<=1){
          if (iniOpp<=1){
            document.getElementById("minute").innerHTML = text+"x"+minMulti+"+"+ranOpp+"   min"
          } else {
            document.getElementById("minute").innerHTML = text+"x"+minMulti+"-"+ranOpp+"   min"
          }
        } else {
          if (iniOpp<=1){
             document.getElementById("minute").innerHTML = minDiv+"/"+ranOppB+"+"+ranOpp+"   min"
          } else {
             document.getElementById("minute").innerHTML = minDiv+"/"+ranOppB+"-"+ranOpp+"   min"
          }
         
        }
        
      };
      
      function show(){
         var t = new Date();
        var myHour = ("0"+t.getHours()).substr(-2);
        var myMinute = ("0"+t.getMinutes()).substr(-2);
        var mySecond = ("0"+t.getSeconds()).substr(-2);
        document.getElementById("time").innerHTML = myHour+" : "+myMinute
        +" : "+mySecond;  
      }

      
    </script>
    
    <form action="/">
      <input type="submit" value="Back" />
    </form>
    
    The Time Now v.4
    
    <p id="hour">Hour</p>
    <p id="minute">Minute</p>
    <p id="second">Second</p>
    <p id="time"></p>
    
    <button onclick="restart()">Refresh</button>
    <button onclick="show()">Show Time</button>

    
  </body>
</html>
